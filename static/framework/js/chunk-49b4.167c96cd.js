(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-49b4"],{"+WN6":function(e,t,i){},"7em9":function(e,t,i){"use strict";i.r(t);var a={code:1,data:[{id:1,industryTwoDto:[{detailName:"互联网/电子商务",id:1,industry:1},{detailName:"计算机软件",id:2,industry:1},{detailName:"IT服务(系统/数据/维护)",id:3,industry:1},{detailName:"电子技术/半导体/集成电路",id:4,industry:1},{detailName:"计算机硬件",id:5,industry:1},{detailName:"通信/电信/网路设备",id:6,industry:1},{detailName:"通信/电信运营、增值服务",id:7,industry:1},{detailName:"网络游戏",id:8,industry:1}],name:"IT|通信电子|互联网"},{id:2,industryTwoDto:[{detailName:"基金/证券/期货/投资",id:9,industry:2},{detailName:"保险",id:10,industry:2},{detailName:"银行",id:11,industry:2},{detailName:"信托/担保/拍卖/典当",id:12,industry:2}],name:"金融业"},{id:3,industryTwoDto:[{detailName:"房地产/建筑/建材/工程",id:13,industry:3},{detailName:"家居/室内设计/装饰装潢",id:14,industry:3},{detailName:"物业管理/商业中心",id:15,industry:3}],name:"房地产|建筑业"},{id:4,industryTwoDto:[{detailName:"专业服务/咨询",id:16,industry:4},{detailName:"广告/会展/公关",id:17,industry:4},{detailName:"中介服务",id:18,industry:4},{detailName:"检验/检测/认证",id:19,industry:4},{detailName:"外包服务",id:20,industry:4}],name:"商业服务"},{id:5,industryTwoDto:[{detailName:"快速消费品",id:21,industry:5},{detailName:"耐用消费品",id:22,industry:5},{detailName:"贸易/进出口",id:23,industry:5},{detailName:"零售/批发",id:24,industry:5},{detailName:"租赁服务",id:25,industry:5}],name:"贸易|批发|零售|租赁业"},{id:6,industryTwoDto:[{detailName:"教育/培训/院校",id:26,industry:6},{detailName:"礼品/工艺美术/奢饰品",id:27,industry:6}],name:"文体教育|工艺美术"},{id:7,industryTwoDto:[{detailName:"汽车/摩托车",id:28,industry:7},{detailName:"大型设备/机电设备/重工业",id:29,industry:7},{detailName:"加工制造(原料加工/模具)",id:30,industry:7},{detailName:"仪器仪表及工业自动化",id:31,industry:7},{detailName:"印刷/包装/造纸",id:32,industry:7},{detailName:"办公用品及设备",id:33,industry:7},{detailName:"医药/生物工程",id:34,industry:7},{detailName:"医疗设备/器械",id:35,industry:7},{detailName:"航空/航天研究与制造",id:36,industry:7}],name:"生产|加工|制造"},{id:8,industryTwoDto:[{detailName:"交通/运输",id:37,industry:8},{detailName:"物流/仓储",id:38,industry:8}],name:"交通|运输|物流|仓储"},{id:9,industryTwoDto:[{detailName:"医疗/护理/美容/保健/卫生",id:39,industry:9},{detailName:"酒店/餐饮",id:40,industry:9},{detailName:"旅游/度假",id:41,industry:9}],name:"服务业"},{id:10,industryTwoDto:[{detailName:"媒体/出版/影视/文化传播",id:42,industry:10},{detailName:"娱乐/体育/休闲",id:43,industry:10}],name:"文化|传媒|娱乐|体育"},{id:11,industryTwoDto:[{detailName:"能源/矿产/采掘/冶炼",id:44,industry:11},{detailName:"石油/石化/化工",id:45,industry:11},{detailName:"电气/电力/水力",id:46,industry:11},{detailName:"环保",id:47,industry:11}],name:"能源|矿产|环保"},{id:12,industryTwoDto:[{detailName:"政府/公共事业/非盈利机构",id:48,industry:12},{detailName:"学术/科研",id:49,industry:12}],name:"政府|非盈利机构"},{id:13,industryTwoDto:[{detailName:"农/林/牧/渔",id:50,industry:13},{detailName:"跨领域经营",id:51,industry:13},{detailName:"其他",id:52,industry:13}],name:"农|林牧|渔|其他"}]},n={name:"website-setting",components:{Tinymce:i("glbJ").a},data:function(){return{key:"",secret:"",captcha_text:"获取验证码",form:{name:"",trades:"",province:"",city:"",area:"",address:"",mobile:"",captcha:""},type:"",province_list:[],city_list:[],area_list:[],industry_list:a,t:60,isDisabled:1,pageSize:0,current_page:0,total:0,rules:{name:{required:!0,message:"请输入公司名称",trigger:"blur"},trades:{required:!0,message:"请选择行业",trigger:"change"},province:{required:!0,message:"请选择省",trigger:"change"},city:{required:!0,message:"请选择市",trigger:"change"},area:{required:!0,message:"请选择区",trigger:"change"},address:{required:!0,message:"请输入详情地址",trigger:"blur"},mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,i){/^1\d{10}$/.test(t)?i():i(new Error("手机号格式不正确"))},trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){this.getData(),console.log(this.industry)},destroyed:function(){},methods:{redirect:function(e){},reg_shop:function(e){},change_province:function(e){var t=this;$http.post("/admin/system/siteRegister/getcity",{data:e},"加载中").then(function(e){t.city_list=e.data,t.form.city="",t.form.area=""}).catch(function(){console.log("获取数据失败！")})},change_city:function(e){var t=this;$http.post("/admin/system/siteRegister/getarea",{data:e},"加载中").then(function(e){t.area_list=e.data,t.form.area=""}).catch(function(){console.log("获取数据失败！")})},sendSms:function(){var e=this,t=this,i=t.t;if(!/^1\d{10}$/.test(this.form.mobile))return this.$refs.form.validateField("mobile"),!1;var a=window.setInterval(function(){--t.t<=0?(t.t=i,t.isDisabled=1,t.captcha_text="获取验证码",window.clearInterval(a)):(t.isDisabled=0,t.captcha_text="("+t.t+"s)后重新获取")},1e3);$http.post("/admin/system/siteRegister/sendSms",{mobile:this.form.mobile}).then(function(t){t.data.result?e.$message({message:t.msg,type:"success"}):e.$message({message:t.data.msg,type:"error"})},function(e){console.log(e)})},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;$http.post("/admin/system/siteRegister/register",{setdata:t.form},"努力注册中").then(function(e){1===e.result?(t.$message.success("保存成功！"),t.getData()):t.$message.error(e.msg)}).catch(function(){t.$message.error("保存失败！")})})},getData:function(){var e=this;$http.get("/admin/system/siteRegister/index",{},"加载中").then(function(t){e.type=t.data.page.type,e.province_list=t.data.province.data,e.key=t.data.set.key,e.secret=t.data.set.secret}).catch(function(){console.log("获取数据失败！")})},reset:function(){var e=this,t={key:this.key,secret:this.secret};$http.post("/admin/system/siteRegister/reset",{data:t}).then(function(t){1==t.result?(console.log("hahhaahah"),e.$message.success(t.msg),e.resetAgain()):e.$message.error(t.data.msg)}).catch(function(){console.log("获取数据失败！")})},resetAgain:function(){var e=this;$http.post("/admin/system/siteRegister/reset").then(function(t){1==t.result?window.location.reload():e.$message.error(t.data.msg)}).catch(function(){console.log("获取数据失败！")})}}},s=(i("mGC5"),i("ZrdR")),r=Object(s.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"right"},[e._m(0),e._v(" "),"register"==e.type?i("el-row",[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"15%"}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.redirect(1)}}},[e._v("免费版")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.redirect(2)}}},[e._v("授权版")])],1)],1)],1):e._e(),e._v(" "),"auth"==e.type?i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"15%"}},[i("el-form-item",{attrs:{label:"key",prop:"key"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入key"},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"密钥",prop:"secret"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入密钥"},model:{value:e.secret,callback:function(t){e.secret=t},expression:"secret"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:e.reset}},[e._v("重置")])],1)],1):e._e(),e._v(" "),"free"==e.type?i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"15%"}},[i("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入公司名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"行业",prop:"trades"}},[i("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择行业"},model:{value:e.form.trades,callback:function(t){e.$set(e.form,"trades",t)},expression:"form.trades"}},e._l(e.industry_list.data,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"所在区域",required:""}},[i("div",{staticStyle:{width:"70%"}},[i("div",{staticStyle:{width:"33.3%",float:"left"}},[i("el-form-item",{attrs:{prop:"province"}},[i("el-select",{staticStyle:{width:"95%"},attrs:{"value-key":"id",placeholder:"省"},on:{change:e.change_province},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}},e._l(e.province_list,function(e){return i("el-option",{key:e.id,attrs:{label:e.areaname,value:e}})}))],1)],1),e._v(" "),i("div",{staticStyle:{width:"33.4%",float:"left"}},[i("el-form-item",{attrs:{prop:"city"}},[i("el-select",{staticStyle:{width:"95%"},attrs:{"value-key":"id",placeholder:"市"},on:{change:e.change_city},model:{value:e.form.city,callback:function(t){e.$set(e.form,"city",t)},expression:"form.city"}},e._l(e.city_list,function(e){return i("el-option",{key:e.id,attrs:{label:e.areaname,value:e}})}))],1)],1),e._v(" "),i("div",{staticStyle:{width:"33.3%",float:"left"}},[i("el-form-item",{attrs:{prop:"area"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",placeholder:"区"},model:{value:e.form.area,callback:function(t){e.$set(e.form,"area",t)},expression:"form.area"}},e._l(e.area_list,function(e){return i("el-option",{key:e.id,attrs:{label:e.areaname,value:e}})}))],1)],1)])]),e._v(" "),i("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入详细地址"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入手机号",autocomplete:"off"},model:{value:e.form.mobile,callback:function(t){e.$set(e.form,"mobile",t)},expression:"form.mobile"}}),e._v(" "),i("el-button",{attrs:{disabled:0==e.isDisabled},on:{click:function(t){e.sendSms()}}},[e._v(e._s(e.captcha_text))])],1),e._v(" "),i("el-form-item",{attrs:{label:"验证码",prop:"captcha"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入验证码"},model:{value:e.form.captcha,callback:function(t){e.$set(e.form,"captcha",t)},expression:"form.captcha"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){t.preventDefault(),e.onSubmit("form")}}},[e._v("提交")])],1)],1):e._e()],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right-head"},[t("div",{staticClass:"right-head-con1"},[this._v("注册站点")])])}],!1,null,null,null);r.options.__file="index.vue";t.default=r.exports},JNhG:function(e,t,i){},OzGj:function(e,t,i){"use strict";var a=i("JNhG");i.n(a).a},ZQDA:function(e,t,i){},glbJ:function(e,t,i){"use strict";var a=i("Asgo"),n=i.n(a),s=i("EPZ6"),r=i.n(s),l={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var e=this;return r()(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this,t=r()(this.listObj).map(function(t){return e.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(e,t){for(var i=t.uid,a=r()(this.listObj),n=0,s=a.length;n<s;n++)if(this.listObj[a[n]].uid===i)return this.listObj[a[n]].url=e.files.file,void(this.listObj[a[n]].hasSuccess=!0)},handleRemove:function(e){for(var t=e.uid,i=r()(this.listObj),a=0,n=i.length;a<n;a++)if(this.listObj[i[a]].uid===t)return void delete this.listObj[i[a]]},beforeUpload:function(e){var t=this,i=window.URL||window.webkitURL,a=e.uid;return this.listObj[a]={},new n.a(function(n,s){var r=new Image;r.src=i.createObjectURL(e),r.onload=function(){t.listObj[a]={hasSuccess:!1,uid:e.uid,width:this.width,height:this.height}},n(!0)})}}},o=(i("wn0B"),i("ZrdR")),d=Object(o.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("上传图片\n  ")]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":e.fileList,"show-file-list":!0,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"before-upload":e.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),e._v(" "),i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},[],!1,null,"39480e6e",null);d.options.__file="editorImage.vue";var c=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],u=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],m={name:"Tinymce",components:{editorImage:d.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:u,menubar:this.menubar,plugins:c,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){t.value&&i.setContent(t.value),t.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",i.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){var t=this;e.forEach(function(e){window.tinymce.get(t.tinymceId).insertContent('<img class="wscnph" src="'+e.url+'" >')})}}},h=(i("OzGj"),Object(o.a)(m,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"4b42c7ad",null));h.options.__file="index.vue";t.a=h.exports},mGC5:function(e,t,i){"use strict";var a=i("+WN6");i.n(a).a},wn0B:function(e,t,i){"use strict";var a=i("ZQDA");i.n(a).a}}]);