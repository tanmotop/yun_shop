(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-49b4"],{"+WN6":function(t,e,i){},"7em9":function(t,e,i){"use strict";i.r(e);var a={code:1,data:[{id:1,industryTwoDto:[{detailName:"互联网/电子商务",id:1,industry:1},{detailName:"计算机软件",id:2,industry:1},{detailName:"IT服务(系统/数据/维护)",id:3,industry:1},{detailName:"电子技术/半导体/集成电路",id:4,industry:1},{detailName:"计算机硬件",id:5,industry:1},{detailName:"通信/电信/网路设备",id:6,industry:1},{detailName:"通信/电信运营、增值服务",id:7,industry:1},{detailName:"网络游戏",id:8,industry:1}],name:"IT|通信电子|互联网"},{id:2,industryTwoDto:[{detailName:"基金/证券/期货/投资",id:9,industry:2},{detailName:"保险",id:10,industry:2},{detailName:"银行",id:11,industry:2},{detailName:"信托/担保/拍卖/典当",id:12,industry:2}],name:"金融业"},{id:3,industryTwoDto:[{detailName:"房地产/建筑/建材/工程",id:13,industry:3},{detailName:"家居/室内设计/装饰装潢",id:14,industry:3},{detailName:"物业管理/商业中心",id:15,industry:3}],name:"房地产|建筑业"},{id:4,industryTwoDto:[{detailName:"专业服务/咨询",id:16,industry:4},{detailName:"广告/会展/公关",id:17,industry:4},{detailName:"中介服务",id:18,industry:4},{detailName:"检验/检测/认证",id:19,industry:4},{detailName:"外包服务",id:20,industry:4}],name:"商业服务"},{id:5,industryTwoDto:[{detailName:"快速消费品",id:21,industry:5},{detailName:"耐用消费品",id:22,industry:5},{detailName:"贸易/进出口",id:23,industry:5},{detailName:"零售/批发",id:24,industry:5},{detailName:"租赁服务",id:25,industry:5}],name:"贸易|批发|零售|租赁业"},{id:6,industryTwoDto:[{detailName:"教育/培训/院校",id:26,industry:6},{detailName:"礼品/工艺美术/奢饰品",id:27,industry:6}],name:"文体教育|工艺美术"},{id:7,industryTwoDto:[{detailName:"汽车/摩托车",id:28,industry:7},{detailName:"大型设备/机电设备/重工业",id:29,industry:7},{detailName:"加工制造(原料加工/模具)",id:30,industry:7},{detailName:"仪器仪表及工业自动化",id:31,industry:7},{detailName:"印刷/包装/造纸",id:32,industry:7},{detailName:"办公用品及设备",id:33,industry:7},{detailName:"医药/生物工程",id:34,industry:7},{detailName:"医疗设备/器械",id:35,industry:7},{detailName:"航空/航天研究与制造",id:36,industry:7}],name:"生产|加工|制造"},{id:8,industryTwoDto:[{detailName:"交通/运输",id:37,industry:8},{detailName:"物流/仓储",id:38,industry:8}],name:"交通|运输|物流|仓储"},{id:9,industryTwoDto:[{detailName:"医疗/护理/美容/保健/卫生",id:39,industry:9},{detailName:"酒店/餐饮",id:40,industry:9},{detailName:"旅游/度假",id:41,industry:9}],name:"服务业"},{id:10,industryTwoDto:[{detailName:"媒体/出版/影视/文化传播",id:42,industry:10},{detailName:"娱乐/体育/休闲",id:43,industry:10}],name:"文化|传媒|娱乐|体育"},{id:11,industryTwoDto:[{detailName:"能源/矿产/采掘/冶炼",id:44,industry:11},{detailName:"石油/石化/化工",id:45,industry:11},{detailName:"电气/电力/水力",id:46,industry:11},{detailName:"环保",id:47,industry:11}],name:"能源|矿产|环保"},{id:12,industryTwoDto:[{detailName:"政府/公共事业/非盈利机构",id:48,industry:12},{detailName:"学术/科研",id:49,industry:12}],name:"政府|非盈利机构"},{id:13,industryTwoDto:[{detailName:"农/林/牧/渔",id:50,industry:13},{detailName:"跨领域经营",id:51,industry:13},{detailName:"其他",id:52,industry:13}],name:"农|林牧|渔|其他"}]},s={name:"website-setting",components:{Tinymce:i("glbJ").a},data:function(){return{key:"",secret:"",captcha_text:"获取验证码",form:{name:"",trades:"",province:"",city:"",area:"",address:"",mobile:"",captcha:""},type:"",province_list:[],city_list:[],area_list:[],industry_list:a,t:60,isDisabled:1,pageSize:0,current_page:0,total:0,rules:{name:{required:!0,message:"请输入公司名称",trigger:"blur"},trades:{required:!0,message:"请选择行业",trigger:"change"},province:{required:!0,message:"请选择省",trigger:"change"},city:{required:!0,message:"请选择市",trigger:"change"},area:{required:!0,message:"请选择区",trigger:"change"},address:{required:!0,message:"请输入详情地址",trigger:"blur"},mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(t,e,i){/^1\d{10}$/.test(e)?i():i(new Error("手机号格式不正确"))},trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},created:function(){this.getData(),console.log(this.industry)},destroyed:function(){},methods:{redirect:function(t){},reg_shop:function(t){},change_province:function(t){var e=this;$http.post("/admin/system/siteRegister/getcity",{data:t},"加载中").then(function(t){e.city_list=t.data,e.form.city="",e.form.area=""}).catch(function(){})},change_city:function(t){var e=this;$http.post("/admin/system/siteRegister/getarea",{data:t},"加载中").then(function(t){e.area_list=t.data,e.form.area=""}).catch(function(){})},sendSms:function(){var t=this,e=this,i=e.t;if(!/^1\d{10}$/.test(this.form.mobile))return this.$refs.form.validateField("mobile"),!1;var a=window.setInterval(function(){--e.t<=0?(e.t=i,e.isDisabled=1,e.captcha_text="获取验证码",window.clearInterval(a)):(e.isDisabled=0,e.captcha_text="("+e.t+"s)后重新获取")},1e3);$http.post("/admin/system/siteRegister/sendSms",{mobile:this.form.mobile}).then(function(e){e.data.result?e.msg&&""!=e.msg&&t.$message.success(e.msg):e.msg&&""!=e.msg&&t.$message.error(e.msg)},function(t){console.log(t)})},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;$http.post("/admin/system/siteRegister/register",{setdata:e.form},"努力注册中").then(function(t){1===t.result?(t.msg&&""!=t.msg&&e.$message.success("保存成功！"),e.getData()):t.msg&&""!=t.msg&&e.$message.error(t.msg)}).catch(function(){})})},getData:function(){var t=this;$http.get("/admin/system/siteRegister/index",{},"加载中").then(function(e){t.type=e.data.page.type,t.province_list=e.data.province.data,t.key=e.data.set.key,t.secret=e.data.set.secret}).catch(function(){})},reset:function(){var t=this,e={key:this.key,secret:this.secret};$http.post("/admin/system/siteRegister/reset",{data:e}).then(function(e){1==e.result?(e.msg&&""!=e.msg&&t.$message.success(e.msg),t.resetAgain()):e.msg&&""!=e.msg&&t.$message.error(e.msg)}).catch(function(){console.log("获取数据失败！")})},resetAgain:function(){var t=this;$http.post("/admin/system/siteRegister/reset").then(function(e){1==e.result?window.location.reload():e.msg&&""!=e.msg&&t.$message.error(e.msg)}).catch(function(){})}}},n=(i("mGC5"),i("ZrdR")),r=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right"},[t._m(0),t._v(" "),"register"==t.type?i("el-row",[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"15%"}},[i("el-form-item",[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.redirect(1)}}},[t._v("免费版")]),t._v(" "),i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){t.redirect(2)}}},[t._v("授权版")])],1)],1)],1):t._e(),t._v(" "),"auth"==t.type?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"15%"}},[i("el-form-item",{attrs:{label:"key",prop:"key"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入key"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"密钥",prop:"secret"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入密钥"},model:{value:t.secret,callback:function(e){t.secret=e},expression:"secret"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:t.reset}},[t._v("重置")])],1)],1):t._e(),t._v(" "),"free"==t.type?i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"15%"}},[i("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入公司名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"行业",prop:"trades"}},[i("el-select",{staticStyle:{width:"70%"},attrs:{placeholder:"请选择行业"},model:{value:t.form.trades,callback:function(e){t.$set(t.form,"trades",e)},expression:"form.trades"}},t._l(t.industry_list.data,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}))],1),t._v(" "),i("el-form-item",{attrs:{label:"所在区域",required:""}},[i("div",{staticStyle:{width:"70%"}},[i("div",{staticStyle:{width:"33.3%",float:"left"}},[i("el-form-item",{attrs:{prop:"province"}},[i("el-select",{staticStyle:{width:"95%"},attrs:{"value-key":"id",placeholder:"省"},on:{change:t.change_province},model:{value:t.form.province,callback:function(e){t.$set(t.form,"province",e)},expression:"form.province"}},t._l(t.province_list,function(t){return i("el-option",{key:t.id,attrs:{label:t.areaname,value:t}})}))],1)],1),t._v(" "),i("div",{staticStyle:{width:"33.4%",float:"left"}},[i("el-form-item",{attrs:{prop:"city"}},[i("el-select",{staticStyle:{width:"95%"},attrs:{"value-key":"id",placeholder:"市"},on:{change:t.change_city},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}},t._l(t.city_list,function(t){return i("el-option",{key:t.id,attrs:{label:t.areaname,value:t}})}))],1)],1),t._v(" "),i("div",{staticStyle:{width:"33.3%",float:"left"}},[i("el-form-item",{attrs:{prop:"area"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"id",placeholder:"区"},model:{value:t.form.area,callback:function(e){t.$set(t.form,"area",e)},expression:"form.area"}},t._l(t.area_list,function(t){return i("el-option",{key:t.id,attrs:{label:t.areaname,value:t}})}))],1)],1)])]),t._v(" "),i("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入详细地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"手机号",prop:"mobile"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入手机号",autocomplete:"off"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}}),t._v(" "),i("el-button",{attrs:{disabled:0==t.isDisabled},on:{click:function(e){t.sendSms()}}},[t._v(t._s(t.captcha_text))])],1),t._v(" "),i("el-form-item",{attrs:{label:"验证码",prop:"captcha"}},[i("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入验证码"},model:{value:t.form.captcha,callback:function(e){t.$set(t.form,"captcha",e)},expression:"form.captcha"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){e.preventDefault(),t.onSubmit("form")}}},[t._v("提交")])],1)],1):t._e()],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right-head"},[e("div",{staticClass:"right-head-con1"},[this._v("注册站点")])])}],!1,null,null,null);r.options.__file="index.vue";e.default=r.exports},JNhG:function(t,e,i){},OzGj:function(t,e,i){"use strict";var a=i("JNhG");i.n(a).a},ZQDA:function(t,e,i){},glbJ:function(t,e,i){"use strict";var a=i("Asgo"),s=i.n(a),n=i("EPZ6"),r=i.n(n),l={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var t=this;return r()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=r()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var i=e.uid,a=r()(this.listObj),s=0,n=a.length;s<n;s++)if(this.listObj[a[s]].uid===i)return this.listObj[a[s]].url=t.files.file,void(this.listObj[a[s]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,i=r()(this.listObj),a=0,s=i.length;a<s;a++)if(this.listObj[i[a]].uid===e)return void delete this.listObj[i[a]]},beforeUpload:function(t){var e=this,i=window.URL||window.webkitURL,a=t.uid;return this.listObj[a]={},new s.a(function(s,n){var r=new Image;r.src=i.createObjectURL(t),r.onload=function(){e.listObj[a]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},s(!0)})}}},o=(i("wn0B"),i("ZrdR")),d=Object(o.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upload-container"},[i("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},[],!1,null,"39480e6e",null);d.options.__file="editorImage.vue";var c=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],u=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],m={name:"Tinymce",components:{editorImage:d.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t||"")})},language:function(){var t=this;this.destroyTinymce(),this.$nextTick(function(){return t.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:u,menubar:this.menubar,plugins:c,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(i){e.value&&i.setContent(e.value),e.hasInit=!0,i.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",i.getContent())})},setup:function(t){t.on("FullscreenStateChanged",function(t){e.fullscreen=t.state})}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}}},h=(i("OzGj"),Object(o.a)(m,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"4b42c7ad",null));h.options.__file="index.vue";e.a=h.exports},mGC5:function(t,e,i){"use strict";var a=i("+WN6");i.n(a).a},wn0B:function(t,e,i){"use strict";var a=i("ZQDA");i.n(a).a}}]);